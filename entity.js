

//===----------------------------------------------------------------------===//
// Entity
//===----------------------------------------------------------------------===//
function Entity() {
  this.x = 0;
  this.y = 0;
  this.img = 0;
}


//===----------------------------------------------------------------------===//
// Entity.bottom
//===----------------------------------------------------------------------===//
Entity.prototype.bottom = function() {
  return this.y + this.h;
};


//===----------------------------------------------------------------------===//
// Entity.center_y
//===----------------------------------------------------------------------===//
Entity.prototype.center_y = function() {
  return this.y + (this.h / 2);
};


//===----------------------------------------------------------------------===//
// Entity.center_x
//===----------------------------------------------------------------------===//
Entity.prototype.center_x = function() {
  return this.x + (this.w / 2);
};


//===----------------------------------------------------------------------===//
// Entity.top
//===----------------------------------------------------------------------===//
Entity.prototype.top = function() {
  return this.y;
};

//===----------------------------------------------------------------------===//
// Entity.left
//===----------------------------------------------------------------------===//
Entity.prototype.left = function() {
  return this.x;
};

//===----------------------------------------------------------------------===//
// Entity.right
//===----------------------------------------------------------------------===//
Entity.prototype.right = function() {
  return this.x + this.w;
};

//===----------------------------------------------------------------------===//
// Entity.update
//===----------------------------------------------------------------------===//
Entity.prototype.update = function() {
  // Do nothing
}

//===----------------------------------------------------------------------===//
// Entity.draw
//===----------------------------------------------------------------------===//
Entity.prototype.draw = function(world, layer) {
  this.drawSprite(layer);
};


//===----------------------------------------------------------------------===//
// Entity.drawSprite
//===----------------------------------------------------------------------===//
Entity.prototype.drawSprite = function(ctx) {
  var img = OBJECTS[this.img].img;
  ctx.drawImage(img, this.x, this.y);
};


//===----------------------------------------------------------------------===//
// createPlayer
//===----------------------------------------------------------------------===//
function createPlayer(entity) {
  var ent = entity || new Entity();
  ent.animated = true;
  ent.w = 16;
  ent.h = 16;
  ent.update = function(world) {
    var keys = world.input.keyboard;
    if (keys.up) moveObject(ent, NORTH, world);
    if (keys.left) moveObject(ent, WEST, world);
    if (keys.right) moveObject(ent, EAST, world);
    if (keys.down) moveObject(ent, SOUTH, world);
  }
  return ent;
}

